(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{77:function(t,a,s){"use strict";s.r(a);var e=s(0),i=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"webview-h5-小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webview-h5-小结","aria-hidden":"true"}},[t._v("#")]),t._v(" webview H5 小结")]),s("p",[t._v("18年6月开始接手webview的H5页面，项目从 jquery seajs 构建的多页面应用转型到 vue 构建的单页面应用，这一过程做个简单的小结")]),s("h2",{attrs:{id:"早期存在的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#早期存在的问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 早期存在的问题")]),s("h4",{attrs:{id:"以下简单描述jquery-seajs所构建的多页面h5在webview中存在哪些问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以下简单描述jquery-seajs所构建的多页面h5在webview中存在哪些问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 以下简单描述jquery seajs所构建的多页面h5在webview中存在哪些问题")]),s("h4",{attrs:{id:"_1、无法保持上一个页面的状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、无法保持上一个页面的状态","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、无法保持上一个页面的状态")]),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("包括但不限于")]),s("ul",[s("li",[s("p",[t._v("表单的交互数据")])]),s("li",[s("p",[t._v("通过接口返回的结果集合")])]),s("li",[s("p",[t._v("页面的滚动距离")])])])]),s("h4",{attrs:{id:"_2、页面跳转带来的空白"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、页面跳转带来的空白","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、页面跳转带来的空白")]),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("例如")]),s("ul",[s("li",[s("p",[t._v("webview打开h5页面实际上相当于在一个浏览器窗口中打开一个网页，在页面请求回来之前会空白，通过webview的loading可以规避第一次页面加载的空白态，如果再次跳转，页面就会在每次跳转时产生空白")])]),s("li",[s("p",[t._v("基于上面一点，无法在跳转时给页面做转场动画")])])])]),s("h4",{attrs:{id:"_3、部分能力不足"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、部分能力不足","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、部分能力不足")]),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("包括但不限于")]),s("ul",[s("li",[s("p",[t._v("使用ES6以及更高版本的js存在局限性")])]),s("li",[s("p",[t._v("jquery虽然已经将javascript简化了许多，但是依然不能很简便的应付复杂繁琐的功能页，当表单交互多，dom操作频繁时更为明显")])])])]),s("h2",{attrs:{id:"规避的措施与不足"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#规避的措施与不足","aria-hidden":"true"}},[t._v("#")]),t._v(" 规避的措施与不足")]),s("h4",{attrs:{id:"_1、采取的措施"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、采取的措施","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、采取的措施")]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("例如")]),s("ul",[s("li",[s("p",[t._v("使用onhashchange方法，模拟单页面app，通过hash值变化显示隐藏div，手动记录页面的堆栈顺序，实现页面转场效果")])]),s("li",[s("p",[t._v("引入单个vue.js文件，简化jquery编码")])])])]),s("h4",{attrs:{id:"_2、措施的不足"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、措施的不足","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、措施的不足")]),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("例如")]),s("ul",[s("li",[s("p",[t._v("手动记录页面堆栈，堆栈多了难以维护，对于每个堆栈做相应的处理，代码量多且繁琐")])]),s("li",[s("p",[t._v("所有的页面都暴露在同一个作用域之下，可以通过命名空间规避，但是不是最优选择")])])])]),s("h2",{attrs:{id:"解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决方案")]),s("h4",{attrs:{id:"_1、为什么选择vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、为什么选择vue","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、为什么选择vue")]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("例如")]),s("ul",[s("li",[s("p",[t._v("完整的生态体系和生命周期")])]),s("li",[s("p",[t._v("路由管理系统vue-router与状态管理系统vuex")])]),s("li",[s("p",[t._v("配合webpack打包，一切皆模块，同时能够解锁众多前沿技术，如样式预编译、前缀自动补全、es6语法编译、自动压缩、按需引入等")])]),s("li",[s("p",[t._v("页面模块化，具有独立的作用域，使用mixins进行类的组装")])]),s("li",[s("p",[t._v("路由守卫，有效融入业务场景，决定页面的呈现与终止")])]),s("li",[s("p",[t._v("自定义组件随意嵌套，slot插槽")])]),s("li",[s("p",[t._v("……")])])])]),s("h4",{attrs:{id:"_2、解决与带来"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、解决与带来","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、解决与带来")]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("例如")]),s("ul",[s("li",[s("p",[t._v("解决jquery (获取dom->获取对象->设置属性) 的编程方式，取而代之的是双向绑定，有更强大的能力应对日渐复杂的功能")])]),s("li",[s("p",[t._v("解决页面的切换与转场的流畅，保证了所有打开过的页面的状态，使之向原生app效果靠拢")])]),s("li",[s("p",[t._v("带来更多场景的解决方案，使用包管理工具（yarn或npm）更加有效的管理包")])]),s("li",[s("p",[t._v("带来更加自由的组件化编程，随意组合和封装可复用的组件")])]),s("li",[s("p",[t._v("……")])])])])])}],!1,null,null,null);a.default=i.exports}}]);