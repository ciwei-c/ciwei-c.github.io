<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>c | Scss 中 RGB 与 HSV 的互相转换</title>
    <meta name="description" content="less is more">
    <link rel="icon" href="/logo.jpg">
  <link rel="stylesheet" href="/reset.css">
  <script src="/canvas.js" defer="defer"></script>
    
    <link rel="preload" href="/assets/css/0.styles.7cff02b1.css" as="style"><link rel="preload" href="/assets/js/app.e3ce4d4b.js" as="script"><link rel="preload" href="/assets/js/2.23685ec5.js" as="script"><link rel="preload" href="/assets/js/17.c09a3e0b.js" as="script"><link rel="prefetch" href="/assets/js/1.0371fcdf.js"><link rel="prefetch" href="/assets/js/3.7c83f47a.js"><link rel="prefetch" href="/assets/js/4.1de3d39c.js"><link rel="prefetch" href="/assets/js/5.a7678d2b.js"><link rel="prefetch" href="/assets/js/6.bf9b4a6d.js"><link rel="prefetch" href="/assets/js/7.d8bd438b.js"><link rel="prefetch" href="/assets/js/8.fd41b3f7.js"><link rel="prefetch" href="/assets/js/9.8367976f.js"><link rel="prefetch" href="/assets/js/10.02711b23.js"><link rel="prefetch" href="/assets/js/11.ece1be8d.js"><link rel="prefetch" href="/assets/js/12.98d096d7.js"><link rel="prefetch" href="/assets/js/13.7ef57a8f.js"><link rel="prefetch" href="/assets/js/14.3b7ec7cf.js"><link rel="prefetch" href="/assets/js/15.d4f0b9c3.js"><link rel="prefetch" href="/assets/js/16.9f1e6fb6.js"><link rel="prefetch" href="/assets/js/18.2834129e.js"><link rel="prefetch" href="/assets/js/19.dc8c4ec9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7cff02b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      c
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">笔记</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">笔记</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Scss 中 RGB 与 HSV 的互相转换</span><!----></p><ul class="sidebar-group-items"><li><a href="/notes/scsshsv.html#element-ui-和ant-design-的调色盘对比" class="sidebar-link">element-ui 和ant-design 的调色盘对比</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/scsshsv.html#element-ui-scss-调色方案" class="sidebar-link">element-ui (scss) 调色方案</a></li><li class="sidebar-sub-header"><a href="/notes/scsshsv.html#ant-design-less-调色方案" class="sidebar-link">ant-design (less) 调色方案</a></li></ul></li><li><a href="/notes/scsshsv.html#scss-下如何实现-ant-design-的调色方案" class="sidebar-link">scss 下如何实现 ant-design 的调色方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/scsshsv.html#rgb-和-hsv-互相转换" class="sidebar-link">RGB 和 HSV 互相转换</a></li><li class="sidebar-sub-header"><a href="/notes/scsshsv.html#colorpalette-函数" class="sidebar-link">colorPalette 函数</a></li></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="scss-中-rgb-与-hsv-的互相转换"><a href="#scss-中-rgb-与-hsv-的互相转换" aria-hidden="true" class="header-anchor">#</a> Scss 中 RGB 与 HSV 的互相转换</h1><h2 id="element-ui-和ant-design-的调色盘对比"><a href="#element-ui-和ant-design-的调色盘对比" aria-hidden="true" class="header-anchor">#</a> element-ui 和ant-design 的调色盘对比</h2><p>现在框架中常用的 css 预编译通常会选择 scss 或者 less，设置常用变量，如 默认色（primary）、成功色（success）、错误色（error）、警告色（warning）、信息色（info），并且使用这些变量，将它们变亮或变暗，变深或变浅，以形成一个默认的调色盘，用于各类不同情况下的交互，如禁用态（:disabeld）或者鼠标悬浮（:hover）时颜色浅一点，如激活（:active）和聚焦（:focus）时加深颜色。
element-ui 和 ant-design 正是采用这样的方案。</p><p>但是 element-ui 和 ant-design 所使用的预编译语言不一样，其中 element-ui 使用的是 scss，ant-design 使用的是 less，这也决定了他们两个使用的调色方案不一样。</p><h3 id="element-ui-scss-调色方案"><a href="#element-ui-scss-调色方案" aria-hidden="true" class="header-anchor">#</a> element-ui (scss) 调色方案</h3><p>element-ui 采用的默认主题颜色 Primary #409EFF，并且通过 scss 的 mix(color1, color2, weight) 方法进行调色，表示把两种颜色混合起来。 weight 参数必须是 0% 到 100%。默认 weight 为 50%，表明新颜色各取 50% color1 和 color2 的色值相加。如果 weight 为 25%，那表明新颜色为 25% color1 和 75% color2 的色值相加。</p><pre class="language-scss"><code><span class="token property"><span class="token variable">$--color-primary</span></span><span class="token punctuation">:</span> #409EFF <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-1</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 10%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-2</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 20%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-3</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 30%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-4</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 40%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-5</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 50%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-6</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 60%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-7</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 70%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-8</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 80%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$--color-primary-light-9</span></span><span class="token punctuation">:</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token variable">$--color-white</span>, <span class="token variable">$--color-primary</span>, 90%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
</code></pre><h3 id="ant-design-less-调色方案"><a href="#ant-design-less-调色方案" aria-hidden="true" class="header-anchor">#</a> ant-design (less) 调色方案</h3><p>ant-design 采用的默认主题颜色 Primary #1890ff，并且通过自定义的一个 colorPalette(color, step) 进行调色，其中 step 决定了颜色是变暗还是变亮，小于等于 6 时，将调亮颜色，并且根据 step
改变 HSV 下的 Hue、Saturation、Value 的三个变量</p><pre class="language-less"><code><span class="token variable">@blue-base<span class="token punctuation">:</span></span> #1890ff<span class="token punctuation">;</span>
<span class="token variable">@blue-1<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 1<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-2<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-3<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 3<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-4<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 4<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-5<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 5<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-6<span class="token punctuation">:</span></span> <span class="token variable">@blue-base</span><span class="token punctuation">;</span>
<span class="token variable">@blue-7<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 7<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-8<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 8<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-9<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 9<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">@blue-10<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{blue-6}'</span><span class="token punctuation">,</span> 10<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="scss-下如何实现-ant-design-的调色方案"><a href="#scss-下如何实现-ant-design-的调色方案" aria-hidden="true" class="header-anchor">#</a> scss 下如何实现 ant-design 的调色方案</h2><p>colorPalette 中最重要的部分在于，将 RGB 或者 HEX 转换成 HSV，并且根据变量调节 Hue、Saturation、Value，但是 scss 并没有 HSV 相关的方法，所以实际的问题就变成了在 scss 下如何实现 RGB 和 HSV 的转换</p><h3 id="rgb-和-hsv-互相转换"><a href="#rgb-和-hsv-互相转换" aria-hidden="true" class="header-anchor">#</a> RGB 和 HSV 互相转换</h3><p>直接看相关的公式</p><p>RGB转HSV：</p><div class="img-container" data-v-1c19c48b><img src="/hsv.jpg" alt data-v-1c19c48b></div><p>HSV转RGB</p><div class="img-container" data-v-1c19c48b><img src="/rgb.jpg" alt data-v-1c19c48b></div><p>将公式转换成对应的函数</p><pre class="language-scss"><code><span class="token keyword">@function</span> <span class="token function">get-hsv</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$r</span></span><span class="token punctuation">:</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$g</span></span><span class="token punctuation">:</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$b</span></span><span class="token punctuation">:</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token property"><span class="token variable">$r1</span></span><span class="token punctuation">:</span><span class="token variable">$r</span> <span class="token operator">/</span> 255<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$g1</span></span><span class="token punctuation">:</span><span class="token variable">$g</span> <span class="token operator">/</span> 255<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$b1</span></span><span class="token punctuation">:</span><span class="token variable">$b</span> <span class="token operator">/</span> 255<span class="token punctuation">;</span>

  <span class="token property"><span class="token variable">$max</span></span><span class="token punctuation">:</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token variable">$r1</span>, <span class="token variable">$g1</span>, <span class="token variable">$b1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$min</span></span><span class="token punctuation">:</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token variable">$r1</span>, <span class="token variable">$g1</span>, <span class="token variable">$b1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token property"><span class="token variable">$dis</span></span><span class="token punctuation">:</span><span class="token variable">$max</span> <span class="token operator">-</span> <span class="token variable">$min</span><span class="token punctuation">;</span>

  <span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$s</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$v</span></span><span class="token punctuation">:</span><span class="token variable">$max</span><span class="token punctuation">;</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$dis</span> == 0 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$max</span> == <span class="token variable">$r1</span> </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span>60 <span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$g1</span> <span class="token operator">-</span> <span class="token variable">$b1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token variable">$dis</span><span class="token punctuation">)</span> <span class="token operator">+</span> 0 <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$max</span> == <span class="token variable">$g1</span> </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span>60 <span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$b1</span> <span class="token operator">-</span> <span class="token variable">$r1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token variable">$dis</span><span class="token punctuation">)</span> <span class="token operator">+</span> 2 <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$max</span> == <span class="token variable">$b1</span> </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span>60 <span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$r1</span> <span class="token operator">-</span> <span class="token variable">$g1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token variable">$dis</span><span class="token punctuation">)</span> <span class="token operator">+</span> 4<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$dis</span> == 0 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$s</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else</span> <span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$s</span></span><span class="token punctuation">:</span><span class="token variable">$dis</span> <span class="token operator">/</span> <span class="token variable">$max</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token property"><span class="token variable">$map</span></span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">:</span><span class="token variable">$h</span>, <span class="token string">'S'</span><span class="token punctuation">:</span><span class="token variable">$s</span>, <span class="token string">'V'</span><span class="token punctuation">:</span><span class="token variable">$v</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">@return</span> <span class="token variable">$map</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">@function</span> <span class="token function">set-rgb-map</span><span class="token punctuation">(</span><span class="token variable">$r</span>, <span class="token variable">$g</span>, <span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$map</span></span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">:</span><span class="token variable">$r</span>, <span class="token string">'g'</span><span class="token punctuation">:</span><span class="token variable">$g</span>, <span class="token string">'b'</span><span class="token punctuation">:</span><span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">@return</span> <span class="token variable">$map</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">@function</span> <span class="token function">hsv-to-rgb</span><span class="token punctuation">(</span><span class="token variable">$hsv</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>,<span class="token string">'H'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$s</span></span><span class="token punctuation">:</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>,<span class="token string">'S'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$v</span></span><span class="token punctuation">:</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>,<span class="token string">'V'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token property"><span class="token variable">$h1</span></span><span class="token punctuation">:</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token variable">$h</span> <span class="token operator">/</span> 60<span class="token punctuation">)</span> <span class="token operator">%</span> 6<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$f</span></span><span class="token punctuation">:</span> <span class="token variable">$h</span> <span class="token operator">/</span> 60 <span class="token operator">-</span> <span class="token variable">$h1</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$p</span></span><span class="token punctuation">:</span> <span class="token variable">$v</span> <span class="token operator">*</span> <span class="token punctuation">(</span>1 <span class="token operator">-</span> <span class="token variable">$s</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$q</span></span><span class="token punctuation">:</span> <span class="token variable">$v</span> <span class="token operator">*</span> <span class="token punctuation">(</span>1 <span class="token operator">-</span> <span class="token variable">$f</span> <span class="token operator">*</span> <span class="token variable">$s</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$t</span></span><span class="token punctuation">:</span> <span class="token variable">$v</span> <span class="token operator">*</span> <span class="token punctuation">(</span>1 <span class="token operator">-</span> <span class="token punctuation">(</span>1 <span class="token operator">-</span> <span class="token variable">$f</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token variable">$s</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$rgbmap</span></span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$h1</span> == 0 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$rgbmap</span></span><span class="token punctuation">:</span><span class="token function">set-rgb-map</span><span class="token punctuation">(</span><span class="token variable">$v</span>, <span class="token variable">$t</span>, <span class="token variable">$p</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$h1</span> == 1 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$rgbmap</span></span><span class="token punctuation">:</span><span class="token function">set-rgb-map</span><span class="token punctuation">(</span><span class="token variable">$q</span>, <span class="token variable">$v</span>, <span class="token variable">$p</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$h1</span> == 2 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$rgbmap</span></span><span class="token punctuation">:</span><span class="token function">set-rgb-map</span><span class="token punctuation">(</span><span class="token variable">$p</span>, <span class="token variable">$v</span>, <span class="token variable">$t</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$h1</span> == 3 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$rgbmap</span></span><span class="token punctuation">:</span><span class="token function">set-rgb-map</span><span class="token punctuation">(</span><span class="token variable">$p</span>, <span class="token variable">$q</span>, <span class="token variable">$v</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$h1</span> == 4 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$rgbmap</span></span><span class="token punctuation">:</span><span class="token function">set-rgb-map</span><span class="token punctuation">(</span><span class="token variable">$t</span>, <span class="token variable">$p</span>, <span class="token variable">$v</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$h1</span> == 5 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$rgbmap</span></span><span class="token punctuation">:</span><span class="token function">set-rgb-map</span><span class="token punctuation">(</span><span class="token variable">$v</span>, <span class="token variable">$p</span>, <span class="token variable">$q</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token property"><span class="token variable">$r</span></span><span class="token punctuation">:</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$rgbmap</span>, <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token operator">*</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$g</span></span><span class="token punctuation">:</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$rgbmap</span>, <span class="token string">'g'</span><span class="token punctuation">)</span> <span class="token operator">*</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$b</span></span><span class="token punctuation">:</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$rgbmap</span>, <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token operator">*</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">@return</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token variable">$r</span>, <span class="token variable">$g</span>, <span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="colorpalette-函数"><a href="#colorpalette-函数" aria-hidden="true" class="header-anchor">#</a> colorPalette 函数</h3><pre class="language-scss"><code><span class="token property"><span class="token variable">$hueStep</span></span><span class="token punctuation">:</span>2<span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$saturationStep</span></span><span class="token punctuation">:</span>16<span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$saturationStep2</span></span><span class="token punctuation">:</span>5<span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$brightnessStep1</span></span><span class="token punctuation">:</span>5<span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$brightnessStep2</span></span><span class="token punctuation">:</span>15<span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$lightColorCount</span></span><span class="token punctuation">:</span>5<span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$darkColorCount</span></span><span class="token punctuation">:</span>4<span class="token punctuation">;</span>

<span class="token keyword">@function</span> <span class="token function">color-palette</span><span class="token punctuation">(</span><span class="token variable">$color</span>, <span class="token variable">$index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$isLight</span></span><span class="token punctuation">:</span><span class="token variable">$index</span> <span class="token operator">&lt;=</span> 6<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$hsv</span></span><span class="token punctuation">:</span><span class="token function">get-hsv</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$i</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$isLight</span> </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$i</span></span><span class="token punctuation">:</span><span class="token variable">$lightColorCount</span> <span class="token operator">+</span> 1 <span class="token operator">-</span> <span class="token variable">$index</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else</span> <span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$i</span></span><span class="token punctuation">:</span><span class="token variable">$index</span> <span class="token operator">-</span> <span class="token variable">$lightColorCount</span> <span class="token operator">-</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token property"><span class="token variable">$H</span></span><span class="token punctuation">:</span><span class="token function">get-hue</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token variable">$i</span>, <span class="token variable">$isLight</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$S</span></span><span class="token punctuation">:</span><span class="token function">get-saturation</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token variable">$i</span>, <span class="token variable">$isLight</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$V</span></span><span class="token punctuation">:</span><span class="token function">get-value</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token variable">$i</span>, <span class="token variable">$isLight</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">@return</span> <span class="token function">hsv-to-rgb</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">:</span><span class="token variable">$H</span>, <span class="token string">'S'</span><span class="token punctuation">:</span><span class="token variable">$S</span> <span class="token operator">/</span> 100, <span class="token string">'V'</span><span class="token punctuation">:</span><span class="token variable">$V</span> <span class="token operator">/</span> 100<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">@function</span> <span class="token function">get-hue</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token variable">$i</span>, <span class="token variable">$isLight</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$hue</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$h</span></span><span class="token punctuation">:</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token string">'H'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$h</span> &gt;= 60 and <span class="token variable">$h</span> &lt;= 240 </span><span class="token punctuation">{</span>
    <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$isLight</span> </span><span class="token punctuation">{</span>
      <span class="token property"><span class="token variable">$hue</span></span><span class="token punctuation">:</span><span class="token variable">$h</span> <span class="token operator">-</span> <span class="token variable">$hueStep</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">@else</span><span class="token punctuation">{</span>
      <span class="token property"><span class="token variable">$hue</span></span><span class="token punctuation">:</span><span class="token variable">$h</span> <span class="token operator">+</span> <span class="token variable">$hueStep</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else</span> <span class="token punctuation">{</span>
    <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$isLight</span> </span><span class="token punctuation">{</span>
      <span class="token property"><span class="token variable">$hue</span></span><span class="token punctuation">:</span><span class="token variable">$h</span> <span class="token operator">+</span> <span class="token variable">$hueStep</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">@else</span><span class="token punctuation">{</span>
      <span class="token property"><span class="token variable">$hue</span></span><span class="token punctuation">:</span><span class="token variable">$h</span> <span class="token operator">-</span> <span class="token variable">$hueStep</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$hue</span> &lt; 0 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$hue</span></span><span class="token punctuation">:</span><span class="token variable">$hue</span> <span class="token operator">+</span> 360<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$hue</span> &gt;= 360 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$hue</span></span><span class="token punctuation">:</span><span class="token variable">$hue</span> <span class="token operator">-</span> 360<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">@return</span> <span class="token variable">$hue</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">@function</span> <span class="token function">get-saturation</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token variable">$i</span>, <span class="token variable">$isLight</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$saturation</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$S</span></span><span class="token punctuation">:</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token string">'S'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$isLight</span> </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$saturation</span></span><span class="token punctuation">:</span><span class="token variable">$S</span> <span class="token operator">*</span> 100 <span class="token operator">-</span> <span class="token variable">$saturationStep</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else if</span> <span class="token selector"><span class="token variable">$i</span> == <span class="token variable">$darkColorCount</span> </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$saturation</span></span><span class="token punctuation">:</span><span class="token variable">$S</span> <span class="token operator">*</span> 100 <span class="token operator">+</span> <span class="token variable">$saturationStep</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else</span> <span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$saturation</span></span><span class="token punctuation">:</span><span class="token variable">$S</span> <span class="token operator">*</span> 100 <span class="token operator">+</span> <span class="token variable">$saturationStep2</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$saturation</span> &gt; 100 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$saturation</span></span><span class="token punctuation">:</span>100<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$isLight</span> and <span class="token variable">$i</span> == <span class="token variable">$lightColorCount</span> and <span class="token variable">$saturation</span> &gt; 10</span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$saturation</span></span><span class="token punctuation">:</span>10<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$saturation</span> &lt; 6 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$saturation</span></span><span class="token punctuation">:</span>6<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">@return</span> <span class="token variable">$saturation</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">@function</span> <span class="token function">get-value</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token variable">$i</span>, <span class="token variable">$isLight</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$value</span></span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$V</span></span><span class="token punctuation">:</span><span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$hsv</span>, <span class="token string">'V'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$isLight</span> </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$value</span></span><span class="token punctuation">:</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token variable">$V</span> <span class="token operator">*</span> 100<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token variable">$brightnessStep1</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">@else</span> <span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$value</span></span><span class="token punctuation">:</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token variable">$V</span> <span class="token operator">*</span> 100<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token variable">$brightnessStep2</span> <span class="token operator">*</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$value</span> / 100 &gt; 1 </span><span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$value</span></span><span class="token punctuation">:</span>100
  <span class="token punctuation">}</span>
  <span class="token keyword">@return</span> <span class="token variable">$value</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><!----><!----></div></div></div>
    <script src="/assets/js/2.23685ec5.js" defer></script><script src="/assets/js/17.c09a3e0b.js" defer></script><script src="/assets/js/app.e3ce4d4b.js" defer></script>
  </body>
</html>
